!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react"),require("resize-observer-polyfill")):"function"==typeof define&&define.amd?define(["react","resize-observer-polyfill"],n):(e=e||self).useFitText=n(e.react,e.ResizeObserver)}(this,function(e,n){n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var t="undefined"!=typeof window&&window.document&&window.document.createElement?e.useLayoutEffect:e.useEffect;return function(i){var o=void 0===i?{}:i,r=o.maxFontSize,f=void 0===r?100:r,u=o.minFontSize,c=void 0===u?20:u,a=o.onFinish,s=o.onStart,l=o.resolution,d=void 0===l?5:l,z=e.useCallback(function(){return s&&s(),{fontSize:f,fontSizePrev:c,fontSizeMax:f,fontSizeMin:c}},[f,c,s]),S=e.useRef(null),v=e.useRef(!0),m=e.useState(z),w=m[0],p=m[1],M=w.fontSize,h=w.fontSizeMax,x=w.fontSizeMin,y=w.fontSizePrev,b=null,F=e.useState(function(){return new n(function(){b=window.requestAnimationFrame(function(){v.current||p(z()),v.current=!1})})})[0];return e.useEffect(function(){return S.current&&F.observe(S.current),function(){b&&window.cancelAnimationFrame(b),F.disconnect()}},[b,F]),t(function(){var e=Math.abs(M-y)<=d,n=!!S.current&&(S.current.scrollHeight>S.current.offsetHeight||S.current.scrollWidth>S.current.offsetWidth),t=M>y;if(e)n?p({fontSize:y<M?y:M-(y-M),fontSizeMax:h,fontSizeMin:x,fontSizePrev:y}):a&&a(M);else{var i,o=h,r=x;n?(i=t?y-M:x-M,o=Math.min(h,M)):(i=t?h-M:y-M,r=Math.max(x,M)),p({fontSize:M+i/2,fontSizeMax:o,fontSizeMin:r,fontSizePrev:M})}},[M,h,x,y,a,S,d]),{fontSize:M+"%",ref:S}}});
//# sourceMappingURL=index.umd.js.map
