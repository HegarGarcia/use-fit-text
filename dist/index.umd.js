!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react"),require("resize-observer-polyfill")):"function"==typeof define&&define.amd?define(["react","resize-observer-polyfill"],n):e.useFitText=n(e.react,e.ResizeObserver)}(this,function(e,n){return n=n&&n.hasOwnProperty("default")?n.default:n,function(t){void 0===t&&(t={});var i=t.maxFontSize;void 0===i&&(i=100);var r=t.minFontSize;void 0===r&&(r=20);var o=t.resolution;void 0===o&&(o=5);var f=e.useCallback(function(){return{fontSize:i,fontSizePrev:r,fontSizeMax:i,fontSizeMin:r}},[i,r]),u=e.useRef(null),a=e.useRef(!0),c=e.useState(f),s=c[0],l=c[1],z=s.fontSize,S=s.fontSizeMax,d=s.fontSizeMin,v=s.fontSizePrev,m=null,M=e.useState(function(){return new n(function(){m=window.requestAnimationFrame(function(){a.current?a.current=!1:l(f())})})})[0];return e.useEffect(function(){return u.current&&M.observe(u.current),function(){m&&window.cancelAnimationFrame(m),M.disconnect()}},[m,M]),e.useLayoutEffect(function(){var e=Math.abs(z-v)<=o,n=!!u.current&&(u.current.scrollHeight>u.current.offsetHeight||u.current.scrollWidth>u.current.offsetWidth),t=z>v;if(e)n&&l({fontSize:v<z?v:z-(v-z),fontSizeMax:S,fontSizeMin:d,fontSizePrev:v});else{var i,r=S,f=d;n?(i=t?v-z:d-z,r=Math.min(S,z)):(i=t?S-z:v-z,f=Math.max(d,z)),l({fontSize:z+i/2,fontSizeMax:r,fontSizeMin:f,fontSizePrev:z})}},[z,S,d,v,u,o]),{fontSize:z+"%",ref:u}}});
//# sourceMappingURL=index.umd.js.map
