!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("resize-observer-polyfill")):"function"==typeof define&&define.amd?define(["react","resize-observer-polyfill"],t):(e=e||self).useFitText=t(e.react,e.resizeObserverPolyfill)}(this,function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r="undefined"!=typeof window&&window.document&&window.document.createElement?e.useLayoutEffect:e.useEffect;return function(i){var o=void 0===i?{}:i,f=o.maxFontSize,c=void 0===f?100:f,u=o.minFontSize,a=void 0===u?20:u,l=o.onFinish,s=o.onStart,d=o.resolution,z=void 0===d?5:d,S=e.useCallback(function(){return{calcKey:0,fontSize:c,fontSizePrev:a,fontSizeMax:c,fontSizeMin:a}},[c,a]),v=e.useRef(null),y=e.useRef(),m=e.useRef(!1),p=e.useState(S),h=p[0],w=p[1],M=h.calcKey,x=h.fontSize,b=h.fontSizeMax,F=h.fontSizeMin,P=h.fontSizePrev,K=null,O=e.useState(function(){return new t(function(){K=window.requestAnimationFrame(function(){m.current||(s&&s(),m.current=!0,w(n({},S(),{calcKey:M+1})))})})})[0];e.useEffect(function(){return v.current&&O.observe(v.current),function(){K&&window.cancelAnimationFrame(K),O.disconnect()}},[K,O]);var E=v.current&&v.current.innerHTML;return e.useEffect(function(){0===M||m.current||(E!==y.current&&(s&&s(),w(n({},S(),{calcKey:M+1}))),y.current=E)},[M,S,E,s]),r(function(){if(0!==M){var e=Math.abs(x-P)<=z,t=!!v.current&&(v.current.scrollHeight>v.current.offsetHeight||v.current.scrollWidth>v.current.offsetWidth),n=x>P;if(e)t&&x===P?(m.current=!1,console.error("Failed to fit text with `minFontSize = "+a+"`. To fix, reduce `minFontSize`.")):t?w({fontSize:P<x?P:x-(P-x),fontSizeMax:b,fontSizeMin:F,fontSizePrev:P,calcKey:M}):(m.current=!1,l&&l(x));else{var r,i=b,o=F;t?(r=n?P-x:F-x,i=Math.min(b,x)):(r=n?b-x:P-x,o=Math.max(F,x)),w({calcKey:M,fontSize:x+r/2,fontSizeMax:i,fontSizeMin:o,fontSizePrev:x})}}},[M,x,b,F,P,l,v,z]),{fontSize:x+"%",ref:v}}});
//# sourceMappingURL=index.umd.js.map
