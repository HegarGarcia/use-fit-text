!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react"),require("resize-observer-polyfill")):"function"==typeof define&&define.amd?define(["react","resize-observer-polyfill"],n):(e=e||self).useFitText=n(e.react,e.ResizeObserver)}(this,function(e,n){function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r="undefined"!=typeof window&&window.document&&window.document.createElement?e.useLayoutEffect:e.useEffect;return function(i){var o=void 0===i?{}:i,f=o.maxFontSize,c=void 0===f?100:f,u=o.minFontSize,a=void 0===u?20:u,l=o.onFinish,s=o.onStart,d=o.resolution,z=void 0===d?5:d,S=e.useCallback(function(){return{calcKey:0,fontSize:c,fontSizePrev:a,fontSizeMax:c,fontSizeMin:a}},[c,a]),v=e.useRef(null),y=e.useRef(),p=e.useRef(!1),m=e.useState(S),h=m[0],w=m[1],M=h.calcKey,b=h.fontSize,x=h.fontSizeMax,F=h.fontSizeMin,K=h.fontSizePrev,O=null,P=e.useState(function(){return new n(function(){O=window.requestAnimationFrame(function(){p.current||(s&&s(),p.current=!0,w(t({},S(),{calcKey:M+1})))})})})[0];e.useEffect(function(){return v.current&&P.observe(v.current),function(){O&&window.cancelAnimationFrame(O),P.disconnect()}},[O,P]);var E=v.current&&v.current.innerHTML;return e.useEffect(function(){0===M||p.current||(E!==y.current&&(s&&s(),w(t({},S(),{calcKey:M+1}))),y.current=E)},[M,S,E,s]),r(function(){if(0!==M){var e=Math.abs(b-K)<=z,n=!!v.current&&(v.current.scrollHeight>v.current.offsetHeight||v.current.scrollWidth>v.current.offsetWidth),t=b>K;if(e)n?w({fontSize:K<b?K:b-(K-b),fontSizeMax:x,fontSizeMin:F,fontSizePrev:K,calcKey:M}):(p.current=!1,l&&l(b));else{var r,i=x,o=F;n?(r=t?K-b:F-b,i=Math.min(x,b)):(r=t?x-b:K-b,o=Math.max(F,b)),w({calcKey:M,fontSize:b+r/2,fontSizeMax:i,fontSizeMin:o,fontSizePrev:b})}}},[M,b,x,F,K,l,v,z]),{fontSize:b+"%",ref:v}}});
//# sourceMappingURL=index.umd.js.map
