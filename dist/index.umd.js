!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react")):"function"==typeof define&&define.amd?define(["react"],n):(e=e||self).useFitText=n(e.react)}(this,function(e){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var t={debug:10,info:20,warn:30,error:40,none:100},i="undefined"!=typeof window&&window.document&&window.document.createElement?e.useLayoutEffect:e.useEffect;return function(r){var o=void 0===r?{}:r,f=o.logLevel,c=o.maxFontSize,u=void 0===c?100:c,a=o.minFontSize,s=void 0===a?20:a,l=o.onFinish,d=o.onStart,S=o.resolution,z=void 0===S?5:S,v=t[void 0===f?"info":f],m=e.useCallback(function(){return{calcKey:0,fontSize:u,fontSizePrev:s,fontSizeMax:u,fontSizeMin:s}},[u,s]),h=e.useRef(null),w=e.useRef(),y=e.useRef(!1),M=e.useState(m),p=M[0],x=M[1],b=p.calcKey,g=p.fontSize,F=p.fontSizeMax,K=p.fontSizeMin,E=p.fontSizePrev,O=null,P=e.useState(function(){return new ResizeObserver(function(){O=window.requestAnimationFrame(function(){y.current||(d&&d(),y.current=!0,x(n({},m(),{calcKey:b+1})))})})})[0];e.useEffect(function(){return h.current&&P.observe(h.current),function(){O&&window.cancelAnimationFrame(O),P.disconnect()}},[O,P]);var j=h.current&&h.current.innerHTML;return e.useEffect(function(){0===b||y.current||(j!==w.current&&(d&&d(),x(n({},m(),{calcKey:b+1}))),w.current=j)},[b,m,j,d]),i(function(){if(0!==b){var e=Math.abs(g-E)<=z,n=!!h.current&&(h.current.scrollHeight>h.current.offsetHeight||h.current.scrollWidth>h.current.offsetWidth),i=g>E;if(e)n&&g===E?(y.current=!1,v<=t.info&&console.info("[use-fit-text] reached `minFontSize = "+s+"` without fitting text")):n?x({fontSize:i?E:K,fontSizeMax:F,fontSizeMin:K,fontSizePrev:E,calcKey:b}):(y.current=!1,l&&l(g));else{var r,o=F,f=K;n?(r=i?E-g:K-g,o=Math.min(F,g)):(r=i?F-g:E-g,f=Math.max(K,g)),x({calcKey:b,fontSize:g+r/2,fontSizeMax:o,fontSizeMin:f,fontSizePrev:g})}}},[b,g,F,K,E,l,h,z]),{fontSize:g+"%",ref:h}}});
//# sourceMappingURL=index.umd.js.map
