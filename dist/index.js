var e,n=require("react"),t=(e=require("resize-observer-polyfill"))&&"object"==typeof e&&"default"in e?e.default:e;module.exports=function(e){void 0===e&&(e={});var i=e.maxFontSize;void 0===i&&(i=100);var r=e.minFontSize;void 0===r&&(r=20);var o=e.resolution;void 0===o&&(o=5);var f=n.useCallback(function(){return{fontSize:i,fontSizePrev:r,fontSizeMax:i,fontSizeMin:r}},[i,r]),u=n.useRef(null),a=n.useRef(!0),c=n.useState(f),S=c[0],s=c[1],z=S.fontSize,l=S.fontSizeMax,v=S.fontSizeMin,d=S.fontSizePrev,M=null,m=n.useState(function(){return new t(function(){M=window.requestAnimationFrame(function(){a.current?a.current=!1:s(f())})})})[0];return n.useEffect(function(){return u.current&&m.observe(u.current),function(){M&&window.cancelAnimationFrame(M),m.disconnect()}},[M,m]),n.useLayoutEffect(function(){var e=Math.abs(z-d)<=o,n=!!u.current&&(u.current.scrollHeight>u.current.offsetHeight||u.current.scrollWidth>u.current.offsetWidth),t=z>d;if(e)n&&s({fontSize:d<z?d:z-(d-z),fontSizeMax:l,fontSizeMin:v,fontSizePrev:d});else{var i,r=l,f=v;n?(i=t?d-z:v-z,r=Math.min(l,z)):(i=t?l-z:d-z,f=Math.max(v,z)),s({fontSize:z+i/2,fontSizeMax:r,fontSizeMin:f,fontSizePrev:z})}},[z,l,v,d,u,o]),{fontSize:z+"%",ref:u}};
//# sourceMappingURL=index.js.map
