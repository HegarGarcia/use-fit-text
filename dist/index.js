var e,n=require("react"),t=(e=require("resize-observer-polyfill"))&&"object"==typeof e&&"default"in e?e.default:e,i="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect;module.exports=function(e){var o=void 0===e?{}:e,r=o.maxFontSize,f=void 0===r?100:r,u=o.minFontSize,c=void 0===u?20:u,a=o.onFinish,s=o.onStart,S=o.resolution,l=void 0===S?5:S,z=n.useCallback(function(){return s&&s(),{fontSize:f,fontSizePrev:c,fontSizeMax:f,fontSizeMin:c}},[f,c,s]),d=n.useRef(null),v=n.useRef(!0),m=n.useState(z),w=m[0],M=m[1],h=w.fontSize,x=w.fontSizeMax,b=w.fontSizeMin,F=w.fontSizePrev,p=null,y=n.useState(function(){return new t(function(){p=window.requestAnimationFrame(function(){v.current||M(z()),v.current=!1})})})[0];return n.useEffect(function(){return d.current&&y.observe(d.current),function(){p&&window.cancelAnimationFrame(p),y.disconnect()}},[p,y]),i(function(){var e=Math.abs(h-F)<=l,n=!!d.current&&(d.current.scrollHeight>d.current.offsetHeight||d.current.scrollWidth>d.current.offsetWidth),t=h>F;if(e)n?M({fontSize:F<h?F:h-(F-h),fontSizeMax:x,fontSizeMin:b,fontSizePrev:F}):a&&a(h);else{var i,o=x,r=b;n?(i=t?F-h:b-h,o=Math.min(x,h)):(i=t?x-h:F-h,r=Math.max(b,h)),M({fontSize:h+i/2,fontSizeMax:o,fontSizeMin:r,fontSizePrev:h})}},[h,x,b,F,a,d,l]),{fontSize:h+"%",ref:d}};
//# sourceMappingURL=index.js.map
