import{useCallback as e,useEffect as n,useRef as i,useState as t}from"react";export default function(o){void 0===o&&(o={});var r=o.maxFontSize;void 0===r&&(r=100);var f=o.minFontSize;void 0===f&&(f=20);var a=o.recalcOnResize;void 0===a&&(a=!1);var z=o.resolution;void 0===z&&(z=5);var u=e(function(){return{fontSize:r,fontSizePrev:f,fontSizeMax:r,fontSizeMin:f}},[r,f]),v=i(null),c=t(u()),S=c[0],d=c[1],s=S.fontSize,l=S.fontSizeMax,M=S.fontSizeMin,m=S.fontSizePrev;return n(function(){if(a){var e,n=function(){window.clearTimeout(e),e=window.setTimeout(function(){d(u())},100)};return window.addEventListener("resize",n),function(){window.clearTimeout(e),window.removeEventListener("resize",n)}}},[u,a]),n(function(){var e=Math.abs(s-m)<=z,n=!!v.current&&(v.current.scrollHeight>v.current.offsetHeight||v.current.scrollWidth>v.current.offsetWidth),i=s>m;if(e)n&&d({fontSize:m<s?m:s-(m-s),fontSizeMax:l,fontSizeMin:M,fontSizePrev:m});else{var t,o=l,r=M;n?(t=i?m-s:M-s,o=Math.min(l,s)):(t=i?l-s:m-s,r=Math.max(M,s)),d({fontSize:s+t/2,fontSizeMax:o,fontSizeMin:r,fontSizePrev:s})}},[s,l,M,m,v,z]),{fontSize:s+"%",ref:v}}
//# sourceMappingURL=index.mjs.map
